import{u as v,a as _}from"./toastMessage-b1d96b7b.js";import{u as h,a as m,o as p,c as g,d as s,b as t,f as o,g as n,e as f,r as b,h as x,i as M,F as N}from"./index-6d500333.js";import{_ as $}from"./ToastMessages-b55ebb7b.js";const y={class:"navbar navbar-expand-lg navbar-dark bg-dark"},V={class:"container-fluid"},A=s("a",{class:"navbar-brand",href:"#"},"香菇園",-1),B=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},R={class:"navbar-nav"},w=["onClick"],T={class:"navbar-nav ms-auto"},L={__name:"NavbarLayout",setup(k){const l=v(),{pushMessage:c}=l,i=h(),r=()=>{const u="https://vue3-course-api.hexschool.io/v2//logout";_.post(u).then(e=>{c({style:"success",title:"登出成功",content:e.data.message}),i.push("/")}).catch(e=>{c({style:"danger",title:"登出失敗",content:e.response.data.message})})};return(u,e)=>{const a=m("RouterLink");return p(),g("nav",y,[s("div",V,[A,B,s("div",C,[s("div",R,[t(a,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品")]),_:1}),t(a,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),t(a,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券")]),_:1}),t(a,{to:"/admin/article",class:"nav-link"},{default:o(()=>[n("貼文")]),_:1}),s("a",{href:"#",onClick:f(r,["prevent"]),class:"nav-link"},"登出",8,w)]),s("div",T,[t(a,{to:"/user/articles",class:"nav-link"},{default:o(()=>[n("Blog")]),_:1}),t(a,{to:"/user/cart",class:"nav-link"},{default:o(()=>[n("購物車")]),_:1})])])])])}}},S={class:"container-fluid mt-3 position-relative"},E={__name:"AdminDashboard",setup(k){const l=v(),{pushMessage:c}=l,i=h(),r=b(!1);return(()=>{const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");_.defaults.headers.common.Authorization=e;const a="https://vue3-course-api.hexschool.io/v2//api/user/check";_.post(a).then(()=>{c({style:"success",title:"登入訊息",content:"已成功登入"}),r.value=!0}).catch(d=>{c({style:"danger",title:"登入訊息",content:d.response.data.message}),i.push("/")})})(),(e,a)=>{const d=m("RouterView");return p(),g(N,null,[t(L),s("div",S,[t($),r.value?(p(),x(d,{key:0})):M("",!0)])],64)}}};export{E as default};
