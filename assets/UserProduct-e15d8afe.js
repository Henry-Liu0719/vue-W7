import{u as V,a as p}from"./toastMessage-b1d96b7b.js";import{u as $,z as C,r as v,a as h,o as n,c as r,b as m,d as t,f as L,t as o,i as _,F as N,g as R}from"./index-6d500333.js";const B={class:"container"},M={"aria-label":"breadcrumb"},S={class:"breadcrumb"},T={class:"breadcrumb-item"},w={class:"breadcrumb-item active","aria-current":"page"},z={class:"row justify-content-center"},F={class:"col-8"},P=["src","alt"],U={class:"col-4"},j={key:0,class:"h5"},D={key:1,class:"h6"},E={key:2,class:"h5"},I=t("hr",null,null,-1),H={__name:"UserProduct",setup(q){const g=V(),{pushMessage:u}=g,b=$(),f=C(),x=v(f.params.productId),e=v({}),a=v(!1),y=()=>{const c=`https://vue3-course-api.hexschool.io/v2//api/hexschoolvue/product/${x.value}`;a.value=!0,p.get(c).then(s=>{e.value=s.data.product,a.value=!1}).catch(s=>{a.value=!1,u({style:"danger",title:"錯誤訊息",content:s.response.data.message})})},k=(c,s=1)=>{const i="https://vue3-course-api.hexschool.io/v2//api/hexschoolvue/cart",d={product_id:c,qty:s};a.value=!0,p.post(i,{data:d}).then(l=>{a.value=!1,u({style:"success",title:"加入購物車",content:l.data.message}),b.push("/user/cart")}).catch(l=>{a.value=!1,u({style:"danger",title:"加入購物車",content:l.response.data.message})})};return y(),(c,s)=>{const i=h("VueLoading"),d=h("RouterLink");return n(),r(N,null,[m(i,{active:a.value,"z-index":1060},null,8,["active"]),t("div",B,[t("nav",M,[t("ol",S,[t("li",T,[m(d,{to:"/user/cart"},{default:L(()=>[R("購物車")]),_:1})]),t("li",w,o(e.value.title),1)])]),t("div",z,[t("article",F,[t("h2",null,o(e.value.title),1),t("div",null,o(e.value.content),1),t("div",null,o(e.value.description),1),t("img",{src:e.value.imageUrl,class:"img-fluid mb-3",alt:e.value.title},null,8,P)]),t("div",U,[e.value.price?_("",!0):(n(),r("div",j,o(e.value.origin_price)+" 元",1)),e.value.price?(n(),r("del",D,"原價 "+o(e.value.origin_price)+" 元",1)):_("",!0),e.value.price?(n(),r("div",E,"現在只要 "+o(e.value.price)+" 元",1)):_("",!0),I,t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=l=>k(e.value.id))}," 加到購物車 ")])])])],64)}}};export{H as default};
