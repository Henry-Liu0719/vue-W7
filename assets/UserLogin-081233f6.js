import{u as v,r as i,a as h,o as f,c as b,b as l,d as s,w as c,v as d,e as w}from"./index-6d500333.js";import{u as g,a as x}from"./toastMessage-b1d96b7b.js";import{_ as y}from"./ToastMessages-b55ebb7b.js";const k={class:"container mt-5"},V=["onSubmit"],E={class:"col-md-6"},M=s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),L={class:"mb-2"},P=s("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),S={class:"mb-2"},$=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1),B=s("div",{class:"text-end mt-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")],-1),N={__name:"UserLogin",setup(T){const u=g(),{pushMessage:m}=u,p=v(),o=i({username:"",password:""}),a=i(!1),_=()=>{const r="https://vue3-course-api.hexschool.io/v2//admin/signin";a.value=!0,x.post(r,o.value).then(e=>{const{token:n,expired:t}=e.data;document.cookie=`hexToken=${n};expires=${new Date(t)};`,a.value=!1,p.push("/admin/products")}).catch(e=>{a.value=!1,m({style:"danger",title:"登入訊息",content:e.response.data.message})})};return(r,e)=>{const n=h("VueLoading");return f(),b("div",k,[l(n,{active:a.value,"z-index":1060},null,8,["active"]),l(y),s("form",{class:"row justify-content-center",onSubmit:w(_,["prevent"])},[s("div",E,[M,s("div",L,[P,c(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.username=t),required:"",autofocus:""},null,512),[[d,o.value.username]])]),s("div",S,[$,c(s("input",{type:"password",id:"inputPassword",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.password=t),placeholder:"Password",required:""},null,512),[[d,o.value.password]])]),B])],40,V)])}}};export{N as default};
